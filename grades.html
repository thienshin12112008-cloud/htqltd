<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#667eea">
    
    <title>B·∫£ng ƒëi·ªÉm - L·ªõp N5K2</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="grades.css">
    <link rel="stylesheet" href="pwa-style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <h1>üáØüáµ Dashboard Qu·∫£n L√Ω L·ªõp N5K2</h1>
            <p>H·ªá th·ªëng qu·∫£n l√Ω h·ªçc vi√™n Ti·∫øng Nh·∫≠t</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="navigation">
        <div class="container">
            <a href="index.html" class="nav-link">
                <span>üë•</span> H·ªçc vi√™n
            </a>
            <a href="attendance.html" class="nav-link">
                <span>‚úÖ</span> ƒêi·ªÉm danh
            </a>
            <a href="grades.html" class="nav-link active">
                <span>üìù</span> B·∫£ng ƒëi·ªÉm
            </a>
            <a href="report.html" class="nav-link">
                <span>üìä</span> Chuy√™n c·∫ßn
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container">
        <!-- Th·ªëng k√™ -->
        <section class="stats-section">
            <div class="stat-card">
                <div class="stat-icon">üìö</div>
                <div class="stat-info">
                    <h3>T·ªïng b√†i ki·ªÉm tra</h3>
                    <p class="stat-number" id="totalExams">0</p>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">üìä</div>
                <div class="stat-info">
                    <h3>ƒêi·ªÉm TB l·ªõp</h3>
                    <p class="stat-number" id="classAverage">0</p>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">üèÜ</div>
                <div class="stat-info">
                    <h3>ƒêi·ªÉm cao nh·∫•t</h3>
                    <p class="stat-number" id="highestScore">0</p>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">üìâ</div>
                <div class="stat-info">
                    <h3>ƒêi·ªÉm th·∫•p nh·∫•t</h3>
                    <p class="stat-number" id="lowestScore">0</p>
                </div>
            </div>
        </section>

        <!-- Qu·∫£n l√Ω b√†i ki·ªÉm tra -->
        <section class="form-section">
            <div class="card">
                <h2>‚ûï Th√™m b√†i ki·ªÉm tra</h2>
                <form id="examForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="examName">T√™n b√†i ki·ªÉm tra *</label>
                            <input 
                                type="text" 
                                id="examName" 
                                placeholder="VD: Ki·ªÉm tra gi·ªØa k·ª≥, B√†i 1-5..."
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label for="examDate">Ng√†y ki·ªÉm tra *</label>
                            <input 
                                type="date" 
                                id="examDate" 
                                required
                            >
                        </div>

                        <div class="form-group">
                            <label for="examWeight">H·ªá s·ªë *</label>
                            <input 
                                type="number" 
                                id="examWeight" 
                                placeholder="1, 2, 3..."
                                min="1"
                                max="5"
                                value="1"
                                required
                            >
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary">
                        <span>‚úì</span> Th√™m b√†i ki·ªÉm tra
                    </button>
                </form>
            </div>
        </section>

        <!-- Danh s√°ch b√†i ki·ªÉm tra -->
        <section class="exams-section">
            <div class="card">
                <div class="card-header">
                    <h2>üìö Danh s√°ch b√†i ki·ªÉm tra</h2>
                    <button class="btn btn-secondary btn-small" id="clearExamsBtn">
                        üóëÔ∏è X√≥a t·∫•t c·∫£
                    </button>
                </div>

                <div id="examsList" class="exams-list">
                    <!-- S·∫Ω ƒë∆∞·ª£c render b·∫±ng JavaScript -->
                </div>

                <div id="examsEmptyState" class="empty-state show">
                    <div class="empty-icon">üìö</div>
                    <p>Ch∆∞a c√≥ b√†i ki·ªÉm tra n√†o</p>
                    <small>H√£y th√™m b√†i ki·ªÉm tra ƒë·∫ßu ti√™n!</small>
                </div>
            </div>
        </section>

        <!-- Nh·∫≠p ƒëi·ªÉm -->
        <section id="gradeInputSection" class="grade-input-section" style="display: none;">
            <div class="card">
                <div class="card-header">
                    <h2 id="gradeInputTitle">üìù Nh·∫≠p ƒëi·ªÉm</h2>
                    <button class="btn btn-secondary btn-small" id="closeGradeInputBtn">
                        ‚úï ƒê√≥ng
                    </button>
                </div>

                <div id="gradeInputList" class="grade-input-list">
                    <!-- S·∫Ω ƒë∆∞·ª£c render b·∫±ng JavaScript -->
                </div>

                <div class="save-section">
                    <button class="btn btn-primary" id="saveGradesBtn">
                        üíæ L∆∞u ƒëi·ªÉm
                    </button>
                </div>
            </div>
        </section>

        <!-- B·∫£ng ƒëi·ªÉm t·ªïng h·ª£p -->
        <section class="table-section">
            <div class="card">
                <div class="card-header">
                    <h2>üìä B·∫£ng ƒëi·ªÉm t·ªïng h·ª£p</h2>
                    <div class="header-actions">
                        <button class="btn btn-secondary btn-small" id="exportGradesBtn">
                            üì• Xu·∫•t Excel
                        </button>
                        <button class="btn btn-secondary btn-small" id="printGradesBtn">
                            üñ®Ô∏è In b·∫£ng ƒëi·ªÉm
                        </button>
                    </div>
                </div>
                
                <div class="table-container">
                    <table id="gradesTable">
                        <thead id="gradesTableHead">
                            <tr>
                                <th>H·ªç v√† t√™n</th>
                                <!-- C√°c c·ªôt b√†i ki·ªÉm tra s·∫Ω ƒë∆∞·ª£c th√™m ƒë·ªông -->
                                <th>ƒêi·ªÉm TB</th>
                                <th>X·∫øp lo·∫°i</th>
                            </tr>
                        </thead>
                        <tbody id="gradesTableBody">
                            <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
                        </tbody>
                    </table>
                    
                    <div id="gradesEmptyState" class="empty-state show">
                        <div class="empty-icon">üìù</div>
                        <p>Ch∆∞a c√≥ d·ªØ li·ªáu ƒëi·ªÉm</p>
                        <small>Th√™m b√†i ki·ªÉm tra v√† nh·∫≠p ƒëi·ªÉm ƒë·ªÉ xem b·∫£ng ƒëi·ªÉm!</small>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>¬© 2024 L·ªõp Ti·∫øng Nh·∫≠t N5K2 - Dashboard Qu·∫£n L√Ω H·ªçc Vi√™n</p>
        </div>
    </footer>

    <!-- Modal x√°c nh·∫≠n -->
    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <h3>‚ö†Ô∏è X√°c nh·∫≠n</h3>
            <p id="confirmMessage">B·∫°n c√≥ ch·∫Øc ch·∫Øn?</p>
            <div class="modal-actions">
                <button class="btn btn-danger" id="confirmBtn">X√°c nh·∫≠n</button>
                <button class="btn btn-secondary" id="cancelBtn">H·ªßy</button>
            </div>
        </div>
    </div>

    <!-- Toast notification -->
    <div id="toast" class="toast"></div>

    <script src="grades.js"></script>
    <script src="pwa-init.js"></script>
</body>
</html>
