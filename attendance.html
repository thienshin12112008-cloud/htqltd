<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#667eea">
    
    <title>ƒêi·ªÉm danh - L·ªõp N5K2</title>
    
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="attendance.css">
    <link rel="stylesheet" href="pwa-style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <h1>üáØüáµ Dashboard Qu·∫£n L√Ω L·ªõp N5K2</h1>
            <p>H·ªá th·ªëng qu·∫£n l√Ω h·ªçc vi√™n Ti·∫øng Nh·∫≠t</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="navigation">
        <div class="container">
            <a href="index.html" class="nav-link">
                <span>üë•</span> H·ªçc vi√™n
            </a>
            <a href="attendance.html" class="nav-link active">
                <span>‚úÖ</span> ƒêi·ªÉm danh
            </a>
            <a href="grades.html" class="nav-link">
                <span>üìù</span> B·∫£ng ƒëi·ªÉm
            </a>
            <a href="report.html" class="nav-link">
                <span>üìä</span> Chuy√™n c·∫ßn
            </a>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container">
        <!-- Th·ªëng k√™ ƒëi·ªÉm danh -->
        <section class="stats-section">
            <div class="stat-card">
                <div class="stat-icon">üìÖ</div>
                <div class="stat-info">
                    <h3>T·ªïng bu·ªïi h·ªçc</h3>
                    <p class="stat-number" id="totalSessions">0</p>
                </div>
            </div>

            <div class="stat-card">
                <div class="stat-icon">‚úÖ</div>
                <div class="stat-info">
                    <h3>Chuy√™n c·∫ßn TB</h3>
                    <p class="stat-number" id="avgAttendance">0%</p>
                </div>
            </div>
        </section>

        <!-- Ch·ªçn ng√†y ƒëi·ªÉm danh -->
        <section class="form-section">
            <div class="card">
                <h2>üìÖ ƒêi·ªÉm danh bu·ªïi h·ªçc</h2>
                
                <div class="date-selector">
                    <div class="form-group">
                        <label for="attendanceDate">Ch·ªçn ng√†y</label>
                        <input type="date" id="attendanceDate" class="date-input">
                    </div>
                    <button class="btn btn-primary" id="loadAttendanceBtn">
                        T·∫£i ƒëi·ªÉm danh
                    </button>
                </div>

                <!-- Danh s√°ch ƒëi·ªÉm danh -->
                <div id="attendanceList" class="attendance-list">
                    <!-- S·∫Ω ƒë∆∞·ª£c render b·∫±ng JavaScript -->
                </div>

                <!-- Empty state -->
                <div id="attendanceEmptyState" class="empty-state show">
                    <div class="empty-icon">üìö</div>
                    <p>Ch·ªçn ng√†y ƒë·ªÉ b·∫Øt ƒë·∫ßu ƒëi·ªÉm danh</p>
                    <small>Ho·∫∑c ch∆∞a c√≥ h·ªçc vi√™n n√†o trong h·ªá th·ªëng</small>
                </div>

                <!-- N√∫t l∆∞u -->
                <div id="saveAttendanceSection" class="save-section" style="display: none;">
                    <button class="btn btn-primary" id="saveAttendanceBtn">
                        üíæ L∆∞u ƒëi·ªÉm danh
                    </button>
                </div>
            </div>
        </section>

        <!-- L·ªãch s·ª≠ ƒëi·ªÉm danh -->
        <section class="table-section">
            <div class="card">
                <div class="card-header">
                    <h2>üìä L·ªãch s·ª≠ ƒëi·ªÉm danh</h2>
                    <button class="btn btn-secondary btn-small" id="clearHistoryBtn">
                        üóëÔ∏è X√≥a l·ªãch s·ª≠
                    </button>
                </div>
                
                <div class="table-container">
                    <table id="historyTable">
                        <thead>
                            <tr>
                                <th>Ng√†y</th>
                                <th>C√≥ m·∫∑t</th>
                                <th>V·∫Øng</th>
                                <th>Tr·ªÖ</th>
                                <th>% Chuy√™n c·∫ßn</th>
                                <th>Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="historyTableBody">
                            <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
                        </tbody>
                    </table>
                    
                    <div id="historyEmptyState" class="empty-state show">
                        <div class="empty-icon">üìã</div>
                        <p>Ch∆∞a c√≥ l·ªãch s·ª≠ ƒëi·ªÉm danh</p>
                        <small>H√£y ƒëi·ªÉm danh bu·ªïi h·ªçc ƒë·∫ßu ti√™n!</small>
                    </div>
                </div>
            </div>
        </section>

        <!-- B·∫£ng th·ªëng k√™ chi ti·∫øt t·ª´ng h·ªçc vi√™n -->
        <section class="table-section">
            <div class="card">
                <h2>üìà Th·ªëng k√™ chuy√™n c·∫ßn t·ª´ng h·ªçc vi√™n</h2>
                
                <div class="table-container">
                    <table id="studentStatsTable">
                        <thead>
                            <tr>
                                <th>H·ªç t√™n</th>
                                <th>T·ªïng bu·ªïi</th>
                                <th>C√≥ m·∫∑t</th>
                                <th>V·∫Øng</th>
                                <th>Tr·ªÖ</th>
                                <th>% Chuy√™n c·∫ßn</th>
                                <th>Tr·∫°ng th√°i</th>
                            </tr>
                        </thead>
                        <tbody id="studentStatsBody">
                            <!-- D·ªØ li·ªáu s·∫Ω ƒë∆∞·ª£c th√™m b·∫±ng JavaScript -->
                        </tbody>
                    </table>
                    
                    <div id="statsEmptyState" class="empty-state show">
                        <div class="empty-icon">üìä</div>
                        <p>Ch∆∞a c√≥ d·ªØ li·ªáu th·ªëng k√™</p>
                        <small>H√£y ƒëi·ªÉm danh ƒë·ªÉ xem th·ªëng k√™!</small>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>¬© 2024 L·ªõp Ti·∫øng Nh·∫≠t N5K2 - Dashboard Qu·∫£n L√Ω H·ªçc Vi√™n</p>
        </div>
    </footer>

    <!-- Modal x√°c nh·∫≠n -->
    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <h3>‚ö†Ô∏è X√°c nh·∫≠n</h3>
            <p id="confirmMessage">B·∫°n c√≥ ch·∫Øc ch·∫Øn?</p>
            <div class="modal-actions">
                <button class="btn btn-danger" id="confirmBtn">X√°c nh·∫≠n</button>
                <button class="btn btn-secondary" id="cancelBtn">H·ªßy</button>
            </div>
        </div>
    </div>

    <!-- Toast notification -->
    <div id="toast" class="toast"></div>

    <script src="attendance.js"></script>
    <script src="pwa-init.js"></script>
</body>
</html>
